DROP TABLE IF EXISTS WINERY;
DROP TABLE IF EXISTS EMPLOYEE;
DROP TABLE IF EXISTS CUSTOMER;
DROP TABLE IF EXISTS ORDERS;
DROP TABLE IF EXISTS WINE_CELLAR;



Create table WINERY
(
Winery_ID int not null,
Name varchar(50),
Owner_Fname varchar(20), Owner_Lname varchar(30),
Manager_Emp_ID int,
Primary key(Winery_ID),
Foreign key(Manager_Emp_ID) references EMPLOYEE(Emp_ID)
);

Create table EMPLOYEE
(
Emp_ID int not null,
Fname varchar(20), Lname varchar(30),
Super_Emp_ID int,
Winery_ID int,
Primary key(Emp_ID),
Foreign key(Winery_ID) references WINERY(Winery_ID),
Foreign key(Super_Emp_ID) references EMPLOYEE(Emp_ID)
);

Create table CUSTOMER
(
Customer_ID int not null,
Fname varchar(20), Lname varchar(20),
Primary key(Customer_ID)
);

Create table ORDERS
(
Order_ID int not null,
Date date not null,
Discount decimal(4, 2),
Customer_ID int not null,
Primary key(Order_ID),
Foreign key(Customer_ID) references CUSTOMER(Customer_ID)
);

Create table WINE_CELLAR
(
Cellar_ID int not null,
Name varchar(20),
Winery_ID int,
Primary key(Cellar_ID),
Foreign key(Winery_ID) references WINERY(Winery_ID)
);


.import EMPLOYEE_DATA.csv EMPLOYEE
.import WINERY_DATA.csv WINERY
.import CELLAR_DATA.csv WINE_CELLAR
.import CUSTOMER_DATA.csv CUSTOMER
.import ORDER_DATA.csv ORDERS
